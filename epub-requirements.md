# –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –ö–æ–º–∞–Ω–¥–∞ EPUB

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**REQ-001: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã epub**
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É `epub` –≤ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `telegraph-publisher`
- –ö–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å Markdown —Ñ–∞–π–ª—ã –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å EPUB —Ñ–∞–π–ª—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ–ø—Ü–∏–∏: `-f/--file`, `-o/--output`, `-a/--author`, `-t/--title`

**REQ-002: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è Markdown –≤ TelegraphNode
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegra.ph
- –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –Ω—É–ª—è

**REQ-003: –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è EPUB**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é EPUB –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –°–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è ZIP –∞—Ä—Ö–∏–≤–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤ EPUB —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (mimetype, container.xml, content.opf, toc.ncx)

**REQ-004: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ EPUB**
- –ö–∞–∂–¥—ã–π Markdown —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–π HTML —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –≤ EPUB
- –ù–ï –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –æ–¥–∏–Ω HTML —Ñ–∞–π–ª (–ø—Ä–æ–±–ª–µ–º—ã —Å —á–∏—Ç–∞–ª–∫–∞–º–∏)
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –≥–ª–∞–≤–∞–º–∏

**REQ-005: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–ø—Ü–∏—é `--withDependencies` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `DependencyManager` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ EPUB

**REQ-006: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–ª–æ–∂–∫–∏** ‚úÖ IMPLEMENTED
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–ø—Ü–∏—é `--cover` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –æ–±–ª–æ–∂–∫–∏ (cover.jpg)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –æ–±–ª–æ–∂–∫–∏ –≤ EPUB —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úÖ –û–±–Ω–æ–≤–ª—è—Ç—å content.opf –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±–ª–æ–∂–∫—É
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç—ã JPG/PNG –¥–ª—è –æ–±–ª–æ–∂–∫–∏

**REQ-007: –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏** ‚úÖ IMPLEMENTED
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–ø—Ü–∏—é `--debug` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–µ —É–¥–∞–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç—å –ø—É—Ç—å –∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**REQ-006: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README**
- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB" –≤ readme.md
- –û–ø–∏—Å–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É `epub` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –í–∫–ª—é—á–∏—Ç—å —Ä–∞–∑–¥–µ–ª –≤ "–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏" –∏ "–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç"

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫

**REQ-007: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ dependencyManager.collectDependencies**
- –û—à–∏–±–∫–∞: `dependencyManager.collectDependencies is not a function`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `DependencyManager`: `buildDependencyTree` –∏ `orderDependencies`

**REQ-008: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏–Ω—Ç–µ—Ä–∞**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞ –≤ —Ñ–∞–π–ª–∞—Ö EPUBGenerator
- –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ TypeScript —Ç–∏–ø–∞–º
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ undefined –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–ø—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã epub
```bash
telegraph-publisher epub [options]

Options:
  -f, --file <files...>      Markdown files to include
  -o, --output <file>        Output EPUB file path
  -a, --author <name>        Author name (required)
  -t, --title <title>        Book title (optional, defaults to first file title)
  --withDependencies         Include dependent files
  --language <lang>          Language code (default: ru)
  --tocTitle <title>         TOC title customization
  --tocSeparators <bool>     Include TOC separators
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ EPUB —Ñ–∞–π–ª–∞
```
book.epub/
‚îú‚îÄ‚îÄ mimetype
‚îú‚îÄ‚îÄ META-INF/
‚îÇ   ‚îî‚îÄ‚îÄ container.xml
‚îú‚îÄ‚îÄ OEBPS/
‚îÇ   ‚îú‚îÄ‚îÄ content.opf
‚îÇ   ‚îú‚îÄ‚îÄ toc.ncx
‚îÇ   ‚îú‚îÄ‚îÄ chapter-1.xhtml
‚îÇ   ‚îú‚îÄ‚îÄ chapter-2.xhtml
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ styles.css
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```bash
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
telegraph-publisher epub -f chapter1.md -a "–ê–≤—Ç–æ—Ä" -o book.epub

# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
telegraph-publisher epub -f index.md chapter2.md -a "–ê–≤—Ç–æ—Ä" --withDependencies -o book.epub

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
telegraph-publisher epub -f *.md -a "–ê–≤—Ç–æ—Ä" -t "–ú–æ—è –∫–Ω–∏–≥–∞" -o book.epub
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ (–í–°–ï –í–´–ü–û–õ–ù–ï–ù–´)

- [x] –ö–æ–º–∞–Ω–¥–∞ `epub` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö)
- [x] EPUB –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ ‚úÖ (–∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ZIP)
- [x] –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π –≥–ª–∞–≤–æ–π ‚úÖ (chapter-1.html, chapter-2.html)
- [x] –°—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –≥–ª–∞–≤–∞–º–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è LinkResolver)
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–ª–æ–∂–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚úÖ (--cover –æ–ø—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [x] –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω ‚úÖ (--debug –æ–ø—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [x] README –æ–±–Ω–æ–≤–ª–µ–Ω —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π ‚úÖ (—Ä–∞–∑–¥–µ–ª "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB")
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ (17/17 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ)
- [x] –ù–µ—Ç –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞ ‚úÖ (0 –æ—à–∏–±–æ–∫ TypeScript –≤ EPUB —Ñ–∞–π–ª–∞—Ö)
- [x] –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ ‚úÖ (bun build –∑–∞–≤–µ—Ä—à–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫)

## üìä –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ 100%**

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ `src/epub/EpubGenerator.ts` - –û—Å–Ω–æ–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä EPUB —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±–ª–æ–∂–∫–∏ –∏ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ `src/epub/EpubGenerator.test.ts` - –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ (17 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ `src/cli/EnhancedCommands.ts` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã epub –≤ CLI —Å –æ–ø—Ü–∏—è–º–∏ --cover –∏ --debug
- ‚úÖ `readme.md` - –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ZIP –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –º–µ–∂–¥—É –≥–ª–∞–≤–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ DependencyManager

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB —Å –æ–±–ª–æ–∂–∫–æ–π
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è EPUB –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã EPUB
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã)
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è CRC32 –∏ ZIP
