---
id: TASK-004
title: Rate Limit Countdown Implementation
created: 2025-07-26_20-59
status: active
priority: medium
type: enhancement
phase: van
---

# TASK-004: Rate Limit Countdown Implementation

## Описание задачи
Добавить визуальный обратный отсчет для rate limit ожидания, чтобы пользователь видел сколько времени осталось до окончания ожидания при получении FLOOD_WAIT ошибок от Telegraph API.

## Мотивация
Улучшить пользовательский опыт, предоставив пользователю понятную информацию о времени ожидания вместо просто сообщения "waiting X seconds".

## Требования
1. **Визуальный countdown**: Показывать обратный отсчет в реальном времени
2. **Форматирование времени**: Отображать время в удобном формате (мм:сс или чч:мм:сс)
3. **Progress bar**: Добавить прогресс-бар для визуализации
4. **Интеграция**: Встроить в существующий RateLimiter без нарушения архитектуры
5. **Тестирование**: Покрыть новую функциональность тестами

## Ожидаемые результаты
- Пользователь видит точное время ожидания
- Визуальная индикация прогресса ожидания
- Улучшенный UX при работе с rate limiting
- Совместимость с существующим кодом

## Технические детали
- Использовать существующий ProgressIndicator если возможно
- Интегрировать с handleFloodWait методом RateLimiter
- Поддержать различные форматы времени
- Обеспечить отзывчивость интерфейса

## Файлы для модификации
- `src/ratelimiter/RateLimiter.ts`
- `src/cli/ProgressIndicator.ts` (если нужно расширить)
- Соответствующие тесты