# Task: Change Detection System Fix

## Task Information
- **ID**: 2025-08-06_TASK-001_change-detection-fix  
- **Title**: Fix Change Detection System in Telegraph Publisher
- **Created**: 2025-08-06_11-23
- **Status**: üî¥ VAN Phase (Active)
- **Priority**: High
- **Complexity**: Medium

## Problem Statement
–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Telegraph Publisher —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

1. **–ù–µ—Ç–æ—á–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ hash'–∞, –Ω–æ –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—Ä–æ–ø—É—Å–∫—É –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
2. **–ù–µ—Ä–∞–±–æ—á–∏–π —Ñ–ª–∞–≥ --force**: –§–ª–∞–≥ `--force` –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø–æ–∫–∞–∑—ã–≤–∞—è "(already have content hash)" –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏  
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –±–µ–∑ --force —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—Ä–æ–≤–æ–¥–∏—Ç –ø–æ–ª–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## User Requirements
1. –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (mtime) + content hash –¥–ª—è —Ç–æ—á–Ω–æ–π –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –∫—ç—à–∞—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–µ—Ä–≤–∏—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Ñ–ª–∞–≥–∞ --force: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ —Ü–µ–ø–æ—á–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
4. –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## Success Criteria
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ timestamp + hash
- ‚úÖ –§–ª–∞–≥ --force –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
- ‚úÖ –í –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ 85% test coverage –¥–ª—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- ‚úÖ 100% test success rate

## Technical Context
- **Project**: Telegraph Publisher  
- **Core Files**: `EnhancedTelegraphPublisher.ts`, `AnchorCacheManager.ts`, `PublicationWorkflowManager.ts`
- **Framework**: TypeScript/Node.js with bun
- **Testing**: vitest framework 