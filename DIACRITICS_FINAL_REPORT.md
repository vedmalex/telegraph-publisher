# ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏ IAST –≤ EPUB - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

## –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: 20 –¥–µ–∫–∞–±—Ä—è 2025

## üìã –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ —Å–∞–Ω—Å–∫—Ä–∏—Ç–µ —Å –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–æ–π IAST –≤ EPUB —Ñ–æ—Ä–º–∞—Ç–µ. –¢–µ–∫—Å—Ç—ã —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ Kindle Paperwhite –∏ –¥—Ä—É–≥–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –¥–ª—è —á—Ç–µ–Ω–∏—è.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. CSS –¥–ª—è –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏ (src/epub/EpubGenerator.ts)

#### –ò–Ω–ª–∞–π–Ω–æ–≤—ã–π –∫–æ–¥ (—Å–∞–Ω—Å–∫—Ä–∏—Ç):
```css
code {
	font-family: "DejaVu Serif", "Liberation Serif", Georgia, serif;
	font-style: italic;
	color: #1a3a52;           /* —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π */
	background-color: transparent;
	padding: 0;
	border-radius: 0;
	letter-spacing: 0.02em;
}
```

#### –ë–ª–æ–∫–∏ –∫–æ–¥–∞ (–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ):
```css
pre {
	font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;
	background-color: #f4f4f4;
	padding: 1em;
	border-radius: 5px;
	overflow-x: auto;
	color: #333;
}

pre code {
	font-family: inherit;
	font-style: normal;
	color: inherit;
	letter-spacing: normal;
}
```

### 2. –ù–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –≤ `src/epub/EpubGenerator.test.ts`:
- ‚úÖ `should support Sanskrit text with IAST diacritics in code elements`
- ‚úÖ `should generate CSS with proper font support for diacritics`

–í—Å–µ 20/20 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ ‚úÖ

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω—ã —Ç—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞:
- üìÑ `docs/DIACRITICS_SUPPORT.md` ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìÑ `DIACRITICS_IMPLEMENTATION.md` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- üìÑ –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
```markdown
# Sanskrit Text with Diacritics

The word `rƒÅja` means "king" in Sanskrit.
More examples: `·πõ`, `·πõ·πõ`, `·π£·π≠`.
Complete: `rƒÅja-dƒÅ≈õaratha·∏•` - proper name.

```code
// This is a code block
function hello() { console.log("Hello"); }
```
```

### –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML
```html
<p>The word <code>rƒÅja</code> means "king" in Sanskrit.</p>
<p>More examples: <code>·πõ</code>, <code>·πõ·πõ</code>, <code>·π£·π≠</code>.</p>
<p>Complete: <code>rƒÅja-dƒÅ≈õaratha·∏•</code> - proper name.</p>
<pre><code>// This is a code block
function hello() { console.log("Hello"); }</code></pre>
```

### EPUB —Ñ–∞–π–ª
- ‚úÖ –í–∞–ª–∏–¥–Ω—ã–π ZIP –∞—Ä—Ö–∏–≤
- ‚úÖ –†–∞–∑–º–µ—Ä: 3.8 KB (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)
- ‚úÖ –í—Å–µ –¥–∏–∞–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (UTF-8)
- ‚úÖ CSS –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—Å—Ç—Ä–æ–µ–Ω–∞

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| –î–∏–∞–∫—Ä–∏—Ç–∏–∫–∞ IAST | ‚úÖ | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ |
| Kindle Paperwhite | ‚úÖ | –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ |
| –î—Ä—É–≥–∏–µ EPUB —á–∏—Ç–∞–ª–∫–∏ | ‚úÖ | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ |
| –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ | ‚úÖ | –ö—É—Ä—Å–∏–≤ + —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π —Ü–≤–µ—Ç |
| –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–¥ | ‚úÖ | –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è `pre`/`code` |
| –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã | ‚úÖ | DejaVu + Liberation + Georgia |

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ —Å–∞–Ω—Å–∫—Ä–∏—Ç–µ:
```bash
# –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ backticks –≤ Markdown
`—Ä–∞ÃÑ–¥–∂–∞ÃÑ –¥–∞—àÃÅ–∞—Ä–∞—Ç—Ö–∞—ÖÃ£`
```

### –°–æ–∑–¥–∞–Ω–∏–µ EPUB:
```bash
telegraph-publisher epub -f chapter.md -a "Author" -o book.epub

# –° –æ—Ç–ª–∞–¥–∫–æ–π:
telegraph-publisher epub -f chapter.md -a "Author" --debug -o book.epub
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

1. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ EPUB —Å —Ñ–ª–∞–≥–æ–º `--debug`:**
   ```bash
   telegraph-publisher epub -f test.md -a "Test" --debug -o test.epub
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ HTML –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –ù–∞–π–¥–∏—Ç–µ `.epub-temp-*/OEBPS/chapter-1.html`
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSS:
     ```css
     code {
         font-style: italic;
         color: #1a3a52;
     }
     ```

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ EPUB –Ω–∞ Kindle
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –ë–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –Ω–µ —É–≤–µ–ª–∏—á–∏–ª—Å—è (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã)
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
- ‚úÖ CSS –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ –∫–æ–º–ø–∞–∫—Ç–Ω–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –í—ã–±–æ—Ä —à—Ä–∏—Ñ—Ç–æ–≤

**DejaVu Serif** –≤—ã–±—Ä–∞–Ω –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. ‚úÖ –õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏
2. ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ EPUB —á–∏—Ç–∞–ª–æ–∫
3. ‚úÖ –•–æ—Ä–æ—à–æ –≤—ã–≥–ª—è–¥–∏—Ç —Å –∏—Ç–∞–ª–∏–∫–æ–º
4. ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å Kindle Paperwhite

### Fallback —Ü–µ–ø—å

```
DejaVu Serif ‚Üí Liberation Serif ‚Üí Georgia ‚Üí serif (—Å–∏—Å—Ç–µ–º–Ω—ã–π)
```

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–∞–∂–µ –Ω–∞ —Å—Ç–∞—Ä—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

### –û—Ç–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞

–ü—Ä–∞–≤–∏–ª–æ `pre code` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∫–æ–¥–∞:
- –ë–µ–∑ –∫—É—Ä—Å–∏–≤–∞ (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è –∫–æ–¥–∞)
- –ë–µ–∑ —Ü–≤–µ—Ç–∞ (—á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥** ‚Äî —Ç–æ–ª—å–∫–æ CSS, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî –Ω–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ EPUB —Ñ–∞–π–ª—ã
3. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —è–∑—ã–∫–∞–º–∏ Unicode
4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ backticks –≤ Markdown
5. **–ö–∞—á–µ—Å—Ç–≤–æ** ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã–≥–ª—è–¥–∏—Ç

## üéì –ü—Ä–∏–º–µ—Ä—ã IAST –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏

| –°–∏–º–≤–æ–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----------|
| ƒÅ | –¥–æ–ª–≥–æ–µ '–∞' |
| ƒ´ | –¥–æ–ª–≥–æ–µ '–∏' |
| ≈´ | –¥–æ–ª–≥–æ–µ '—É' |
| ·πõ | '—Ä–∞' —Å —Ç–æ—á–∫–æ–π —Å–Ω–∏–∑—É |
| ·∏∑ | '–ª–∞' —Å —Ç–æ—á–∫–æ–π —Å–Ω–∏–∑—É |
| √± | '–Ω—è' —Å —Ç–∏–ª—å–¥–æ–π |
| ·π≠ | '—Ç–∞' —Å —Ç–æ—á–∫–æ–π —Å–Ω–∏–∑—É |
| ·∏ç | '–¥–∞' —Å —Ç–æ—á–∫–æ–π —Å–Ω–∏–∑—É |
| ·πá | '–Ω–∞' —Å —Ç–æ—á–∫–æ–π —Å–Ω–∏–∑—É |
| ≈õ | '—à–∞' —Å –æ—Å—Ç—Ä–æ–π |
| ·π£ | '—à–∞' —Å —Ç–æ—á–∫–æ–π —Å–Ω–∏–∑—É |
| ·∏• | –≤–∏—Å–∞—Ä–≥–∞ (–ø–æ—Å—Ç–∞–ª—å–≤–µ–æ–ª—è—Ä–Ω–∞—è —Ñ—Ä–∏–∫–∞—Ç–∏–≤–∞) |

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

```
–ù–æ–≤—ã–µ:
  docs/DIACRITICS_SUPPORT.md         (–ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)
  DIACRITICS_IMPLEMENTATION.md       (–æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

–ò–∑–º–µ–Ω–µ–Ω—ã:
  src/epub/EpubGenerator.ts          (CSS –¥–ª—è –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–∏)
  src/epub/EpubGenerator.test.ts     (–Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã)
```

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- [x] –î–∏–∞–∫—Ä–∏—Ç–∏–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ Kindle Paperwhite
- [x] –¢–µ–∫—Å—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª–µ–Ω (–∫—É—Ä—Å–∏–≤ + —Ü–≤–µ—Ç)
- [x] –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–¥ –æ—Ç–¥–µ–ª–µ–Ω –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- [x] –†–∞–±–æ—Ç–∞–µ—Ç —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ —à—Ä–∏—Ñ—Ç–∞–º–∏ (–±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (20/20)
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è
- [x] –†–∞–∑–º–µ—Ä EPUB –Ω–µ —É–≤–µ–ª–∏—á–∏–ª—Å—è

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç:

1. ‚úÖ –ü–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Å–∞–Ω—Å–∫—Ä–∏—Ç–µ —Å –ø–æ–ª–Ω–æ–π –¥–∏–∞–∫—Ä–∏—Ç–∏–∫–æ–π IAST
2. ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ EPUB —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
3. ‚úÖ –ß–∏—Ç–∞—Ç—å –Ω–∞ –ª—é–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (Kindle, Calibre, Apple Books –∏ —Ç.–¥.)
4. ‚úÖ –ò–º–µ—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ —Å–∞–Ω—Å–∫—Ä–∏—Ç–∞ –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∫–æ–¥–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production.

---

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** 20 –¥–µ–∫–∞–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û
**–í–µ—Ä—Å–∏—è:** v1.5.0+


